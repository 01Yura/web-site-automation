<!DOCTYPE html>
<html lang="ru">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Locators Cheat Sheet — XPath & CSS (Selenide / Selenium)</title>
    <link rel="stylesheet" href="../assets/locators.css" />
  </head>
  <body>
    <div class="language-switcher">
      <a href="locators.html" class="lang-link active">RU</a>
      <span class="lang-separator">|</span>
      <a href="../en/locators.html" class="lang-link">EN</a>
    </div>

    <div class="card">
      <h1>
        Locators Cheat Sheet
        <span class="tiny">XPath & CSS — Selenide / Selenium</span>
      </h1>
      <p class="sub">
        Схемы, примеры, и варианты кода. В колонке Selenide даны несколько
        наиболее удобных способов.
      </p>

      <h2>XPath</h2>
      <table>
        <thead>
          <tr>
            <th style="width: 12%">Rule</th>
            <th style="width: 18%">Schema</th>
            <th style="width: 20%">Example</th>
            <th style="width: 22%">Comment</th>
            <th style="width: 16%">Selenide (варианты)</th>
            <th style="width: 12%">Selenium</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td>tag &amp; attribute</td>
            <td><code>//tag[@attribute="value"]</code></td>
            <td><code>//input[@placeholder="Username"]</code></td>
            <td>
              Находит элемент по тэгу и атрибуту (это самый распространенный
              способ для Xpath)
            </td>
            <td>
              <code>$(byXpath("//input[@placeholder='Username']"))</code>
            </td>
            <td>
              <code
                >driver.findElement(By.xpath("//input[@placeholder='Username']"))</code
              >
            </td>
          </tr>
          <tr>
            <td>text()</td>
            <td><code>//tag[text()="value"]</code></td>
            <td><code>//button[text()="Login"]</code></td>
            <td>Полное совпадение текста</td>
            <td>
              <code>$(byText("Login"))</code><br />
              <code>$$("button").findBy(text("Login"))</code><br />
              <code>$(byXpath("//button[text()='Login']"))</code>
            </td>
            <td>
              <code
                >driver.findElement(By.xpath("//button[text()='Login']"))</code
              >
            </td>
          </tr>
          <tr>
            <td>contains() (text)</td>
            <td><code>//tag[contains(text(),"value")]</code></td>
            <td><code>//div[contains(text(),"Error")]</code></td>
            <td>Частичное совпадение текста</td>
            <td>
              <code>$(withText("Error"))</code><br />
              <span class="tiny"
                >Генерирует примерно такой XPath:
                .//*[contains(text(),'Error')]</span
              ><br />
              <code>$(byXpath("//div[contains(text(),'Error')]"))</code>
            </td>
            <td>
              <code
                >driver.findElement(By.xpath("//div[contains(text(),'Error')]"))</code
              >
            </td>
          </tr>
          <tr>
            <td>contains() (attr)</td>
            <td><code>//tag[contains(@attribute,"value")]</code></td>
            <td><code>//input[contains(@placeholder,"Usern")]</code></td>
            <td>Частичное совпадение значения атрибута</td>
            <td>
              <code>$(byXpath("//input[contains(@placeholder,'Usern')]"))</code>
            </td>
            <td>
              <code
                >driver.findElement(By.xpath("//input[contains(@placeholder,'Usern')]"))</code
              >
            </td>
          </tr>
          <tr>
            <td>multiple attributes</td>
            <td><code>//tag[rule1][rule2]</code></td>
            <td><code>//input[@type="text"][@name="login"]</code></td>
            <td>Несколько условий</td>
            <td>
              <code>$("input[type='text'][name='login']")</code><br />
              <code>$(byCssSelector("input[type='text'][name='login']"))</code
              ><br />
              <code>$(byXpath("//input[@type='text'][@name='login']"))</code>
            </td>
            <td>
              <code
                >driver.findElement(By.xpath("//input[@type='text'][@name='login']"))</code
              >
            </td>
          </tr>
          <tr>
            <td>moving through the tree</td>
            <td><code>//parent/child</code></td>
            <td><code>//div/span</code></td>
            <td>Переход родитель → потомок</td>
            <td>
              <code>$("div span")</code><br />
              <code>$(byXpath("//div/span"))</code>
            </td>
            <td><code>driver.findElement(By.xpath("//div/span"))</code></td>
          </tr>
          <tr>
            <td>not()</td>
            <td><code>//tag[not(contains(@attr,"v"))]</code></td>
            <td><code>//input[not(contains(@type,"hidden"))]</code></td>
            <td>Исключение по условию</td>
            <td>
              <code>$(byXpath("//input[not(contains(@type,'hidden'))]"))</code>
            </td>
            <td>
              <code
                >driver.findElement(By.xpath("//input[not(contains(@type,'hidden'))]"))</code
              >
            </td>
          </tr>
          <tr>
            <td>indexing</td>
            <td><code>(//tag[@attr="v"])[N]</code></td>
            <td><code>(//input[@type="text"])[2]</code></td>
            <td>N‑й элемент в выборке</td>
            <td>
              <code>$$("input[type='text']").get(1)</code><br />
              <code>$(byXpath("(//input[@type='text'])[2]"))</code>
            </td>
            <td>
              <code
                >driver.findElement(By.xpath("(//input[@type='text'])[2]"))</code
              >
            </td>
          </tr>
          <tr>
            <td>parent</td>
            <td><code>//tag/..</code></td>
            <td><code>//input/..</code></td>
            <td>Переход к родителю</td>
            <td><code>$(byXpath("//input/.."))</code></td>
            <td><code>driver.findElement(By.xpath("//input/.."))</code></td>
          </tr>
          <tr>
            <td>following-sibling</td>
            <td><code>//tag/following-sibling::tag2</code></td>
            <td><code>//label/following-sibling::input</code></td>
            <td>Сосед справа на том же уровне</td>
            <td><code>$(byXpath("//label/following-sibling::input"))</code></td>
            <td>
              <code
                >driver.findElement(By.xpath("//label/following-sibling::input"))</code
              >
            </td>
          </tr>
          <tr>
            <td>preceding-sibling</td>
            <td><code>//tag/preceding-sibling::tag2</code></td>
            <td><code>//input/preceding-sibling::label</code></td>
            <td>Сосед слева</td>
            <td><code>$(byXpath("//input/preceding-sibling::label"))</code></td>
            <td>
              <code
                >driver.findElement(By.xpath("//input/preceding-sibling::label"))</code
              >
            </td>
          </tr>
          <tr>
            <td>ancestor</td>
            <td><code>//tag/ancestor::X</code></td>
            <td><code>//span/ancestor::form</code></td>
            <td>Любой предок выше по дереву</td>
            <td><code>$(byXpath("//span/ancestor::form"))</code></td>
            <td>
              <code>driver.findElement(By.xpath("//span/ancestor::form"))</code>
            </td>
          </tr>
        </tbody>
      </table>

      <h2>
        CSS Selectors
        <span class="tiny">(у CSS нет функций text() и contains())</span>
      </h2>
      <table>
        <thead>
          <tr>
            <th style="width: 12%">Rule</th>
            <th style="width: 18%">Schema</th>
            <th style="width: 20%">Example</th>
            <th style="width: 22%">Comment</th>
            <th style="width: 16%">Selenide (варианты)</th>
            <th style="width: 12%">Selenium</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td>tag &amp; attribute</td>
            <td><code>tag[attribute="value"]</code></td>
            <td><code>input[aria-label="Search"]</code></td>
            <td>По атрибуту</td>
            <td>
              <code>$("input[aria-label='Search']")</code><br />
              <code>$(byAttribute("aria-label","Search"))</code><br />
              <code>$(byCssSelector("input[aria-label='Search']"))</code>
            </td>
            <td>
              <code
                >driver.findElement(By.cssSelector("input[aria-label='Search']"))</code
              >
            </td>
          </tr>
          <tr>
            <td>id</td>
            <td><code>#id</code></td>
            <td><code>#loginBtn</code></td>
            <td>По id</td>
            <td>
              <code>$("#loginBtn")</code><br />
              <code>$(byId("loginBtn"))</code>
            </td>
            <td><code>driver.findElement(By.id("loginBtn"))</code></td>
          </tr>
          <tr>
            <td>class name</td>
            <td><code>.className</code></td>
            <td><code>.btn-primary</code></td>
            <td>По классу</td>
            <td>
              <code>$(".btn-primary")</code><br />
              <code>$(byClassName("btn-primary"))</code>
            </td>
            <td>
              <code>driver.findElement(By.className("btn-primary"))</code>
            </td>
          </tr>
          <tr>
            <td>multiple class names</td>
            <td><code>.class1.class2</code></td>
            <td><code>.btn.large</code></td>
            <td>Два класса одновременно</td>
            <td>
              <code>$(".btn.large")</code><br />
              <code>$(byCssSelector(".btn.large"))</code>
            </td>
            <td>
              <code>driver.findElement(By.cssSelector(".btn.large"))</code>
            </td>
          </tr>
          <tr>
            <td>attribute *=</td>
            <td><code>[attribute*="value"]</code></td>
            <td><code>input[placeholder*="user"]</code></td>
            <td>Атрибут содержит</td>
            <td>
              <code>$("input[placeholder*='user']")</code><br />
              <code>$(byAttribute("placeholder","user"))</code>
            </td>
            <td>
              <code
                >driver.findElement(By.cssSelector("input[placeholder*='user']"))</code
              >
            </td>
          </tr>
          <tr>
            <td>attribute ^=</td>
            <td><code>[attribute^="value"]</code></td>
            <td><code>input[placeholder^="user"]</code></td>
            <td>Атрибут начинается с</td>
            <td>
              <code>$("input[placeholder^='user']")</code><br />
              <code>$(byCssSelector("input[placeholder^='user']"))</code>
            </td>
            <td>
              <code
                >driver.findElement(By.cssSelector("input[placeholder^='user']"))</code
              >
            </td>
          </tr>
          <tr>
            <td>attribute $=</td>
            <td><code>[attr$="value"]</code></td>
            <td><code>img[src$=".png"]</code></td>
            <td>Атрибут заканчивается на</td>
            <td>
              <code>$("img[src$='.png']")</code><br />
              <code>$(byCssSelector("img[src$='.png']"))</code>
            </td>
            <td>
              <code
                >driver.findElement(By.cssSelector("img[src$='.png']"))</code
              >
            </td>
          </tr>
          <tr>
            <td>name / link text (полезно знать)</td>
            <td><code>a:contains(text) — (нет в чистом CSS)</code></td>
            <td><code>Ссылки по тексту</code></td>
            <td>В CSS нет поиска по тексту — используем API</td>
            <td>
              <code>$(byLinkText("Home"))</code><br />
              <code>$(byPartialLinkText("Hom"))</code>
            </td>
            <td>
              <code>driver.findElement(By.linkText("Home"))</code><br />
              <code>driver.findElement(By.partialLinkText("Hom"))</code>
            </td>
          </tr>
        </tbody>
      </table>

      <p class="sub">
        Импорты (Selenide):
        <code>import static com.codeborne.selenide.Selenide.*;</code>,
        <code>import static com.codeborne.selenide.Selectors.*;</code>,
        <code>import static com.codeborne.selenide.Condition.*;</code>
      </p>
    </div>

    <footer>
      Сгенерировано автоматически. Используй как шпаргалку при написании
      UI‑тестов.
    </footer>
  </body>
</html>
